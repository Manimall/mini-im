import {useState} from 'react'
import {useDispatch} from 'react-redux'
import {SearchPhoneStart} from 'modules/Search'


const useActionSearchPhone = () => {
  const dispatch = useDispatch();

  const initialValue = ''

  const [formValue, setFormValue] = useState(initialValue)

  const handleChange = ({ target: { value } }) => setFormValue(value)

  const handleSubmit = (e) => {
    if (formValue === initialValue) return;
    e.preventDefault()
    dispatch(SearchPhoneStart(formValue))
  }

  const resetSearchTerm = () => setFormValue(initialValue)

  return {
    formValue,
    handleChange,
    handleSubmit,
    resetSearchTerm,
  }
}

export default useActionSearchPhone
